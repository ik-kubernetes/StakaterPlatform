# Use this Makefile if you want to setup/deploy/destroy StakaterPlatform from devstation(local workstation;laptop, computer etc.)

.ONESHELL:
SHELL= /bin/bash

include variables.config

configure:
	git checkout -b $(STAKATER_PLATFORM_BRANCH) && \
	bash scripts/configure-dev.sh #&& \
	git add . && \
	git commit -a -m "[skip ci] update vars for deployment"  && \
	git push -u origin $(STAKATER_PLATFORM_BRANCH) || true

deploy:
	bash scripts/install.sh $(CLOUD_PROVIDER)
	sleep 480
	bash scripts/verify.sh

verify:
	bash scripts/verify.sh

destroy:
	bash scripts/destroy.sh

.PHONY: configure deploy verify destroy